<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        canvas {
            display: block;
            border: 2px solid #aaa;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="500" height="500">您的浏览器版本过低，请升级浏览器或者使用chrome打开！</canvas>
    <script>
        const canvas = document.getElementById('canvas')
        if(canvas.getContext){
            const ctx = canvas.getContext('2d')

            /**
             * 线条样式
             *  1. ctx.lineWidth = value 设置当前绘线的宽度，value为描述线段宽度的数字，默认值为1.0，0、负数、Infinity和NaN会被忽略
             *  2. ctx.lineCap = value 设置每一条线段末端的样式，可选值有：
             *      butt 默认值，线段末端以方形结束
             *      round 线段末端以圆形结束
             *      square 线段末端以方形结束，但是增加了一个宽度和线段相同，高度是线段厚度一半的矩形区域
             *  3. ctx.lineJoin = value 设置两线条（线段、圆弧、曲线）连接处所显示的样式，可选值有：
             *      round 通过填充一个额外的，圆心在相连部分末端的扇形，绘制拐角的形状。圆角的半径是线段的宽度
             *      bevel 在相连部分的末端填充一个额外的三角形为底的区域
             *      miter 默认值，通过延伸相连部分的外边缘，使其相交与一点，形成一个额外的菱形区域。这个设置可以通过miterLimit属性看到效果
             *  4. ctx.miterLimit = value 当两条线相交时限制其交接处的最大长度。所谓交接处长度（斜接长度）是指线条交接处内角顶点到外角顶点
             *  的长度。线段之间夹角比较大时，交点不会太远，但随着夹角变小，交点距离会呈指数级增大。只有当lineJoin显示为">"（miter）时，
             *  miterLimit才有效。如果斜接长度超过miterLimit的值，边角会以lineJoin的"]"（bevel）类型来显示
             */

            ctx.lineWidth = 15

            // lineCap 值为 butt
            ctx.beginPath()
            ctx.lineCap = 'butt'
            ctx.moveTo(100, 30)
            ctx.lineTo(400, 30)
            ctx.stroke()

            // lineCap 值为 round
            ctx.beginPath()
            ctx.lineCap = 'round'
            ctx.moveTo(100, 60)
            ctx.lineTo(400, 60)
            ctx.stroke()

            // lineCap 值为 square
            ctx.beginPath()
            ctx.lineCap = 'square'
            ctx.moveTo(100, 90)
            ctx.lineTo(400, 90)
            ctx.stroke()

            // lineJoin 值为 round
            ctx.beginPath()
            ctx.lineJoin = 'round'
            ctx.moveTo(150, 120)
            ctx.lineTo(200, 150)
            ctx.lineTo(250, 120)
            ctx.lineTo(300, 150)
            ctx.lineTo(350, 120)
            ctx.stroke()

            // lineJoin 值为 bevel
            ctx.beginPath()
            ctx.lineJoin = 'bevel'
            ctx.moveTo(150, 170)
            ctx.lineTo(200, 200)
            ctx.lineTo(250, 170)
            ctx.lineTo(300, 200)
            ctx.lineTo(350, 170)
            ctx.stroke()

            // lineJoin 值为 miter
            ctx.beginPath()
            ctx.lineJoin = 'miter'
            ctx.moveTo(150, 220)
            ctx.lineTo(200, 250)
            ctx.lineTo(250, 220)
            ctx.lineTo(300, 250)
            ctx.lineTo(350, 220)
            ctx.stroke()

            // miterLimit 值为 3
            ctx.beginPath()
            ctx.lineJoin = 'miter'
            ctx.miterLimit = 3
            ctx.moveTo(165, 280)
            ctx.lineTo(175, 330)
            ctx.lineTo(185, 280)
            ctx.stroke()

            // miterLimit 值为 5
            ctx.beginPath()
            ctx.lineJoin = 'miter'
            ctx.miterLimit = 5
            ctx.moveTo(215, 280)
            ctx.lineTo(225, 330)
            ctx.lineTo(235, 280)
            ctx.stroke()

            // miterLimit 值为 10
            ctx.beginPath()
            ctx.lineJoin = 'miter'
            ctx.miterLimit = 10
            ctx.moveTo(265, 280)
            ctx.lineTo(275, 330)
            ctx.lineTo(285, 280)
            ctx.stroke()

            // lineJoin 值为 bevel（作为对比）
            ctx.beginPath()
            ctx.lineJoin = 'bevel'
            ctx.moveTo(315, 280)
            ctx.lineTo(325, 330)
            ctx.lineTo(335, 280)
            ctx.stroke()

            /**
             * 透明度
             *  ctx.globalAlpha = value 除了绘制实心的图形，还可以绘制有透明度的图形。通过设置globalAlpha属性或者使用有透明度的样式
             *  作为轮廓（stroke）或者填充（fill）都可以实现，value值从0.0（完全透明）到1.0（完全不透明）
             */

            ctx.globalAlpha = 0.5
            ctx.fillStyle = 'blue'
            ctx.fillRect(175, 380, 100, 60)
            ctx.fillStyle = 'red'
            ctx.fillRect(225, 410, 100, 60)
        }
    </script>
</body>
</html>